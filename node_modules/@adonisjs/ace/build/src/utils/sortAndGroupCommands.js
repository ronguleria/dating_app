"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
function sortAndGroupCommands(commands) {
    const groupsLiteral = commands.reduce((result, command) => {
        const tokens = command.commandName.split(':');
        const group = tokens.length > 1 ? tokens.shift() : 'root';
        result[group] = result[group] || [];
        result[group].push(command);
        return result;
    }, {});
    return Object.keys(groupsLiteral)
        .sort((prev, curr) => {
        if (prev === 'root') {
            return -1;
        }
        if (curr === 'root') {
            return 1;
        }
        if (curr > prev) {
            return -1;
        }
        if (curr < prev) {
            return 1;
        }
        return 0;
    })
        .map((name) => {
        return {
            group: name,
            commands: groupsLiteral[name].sort((prev, curr) => {
                if (curr.commandName > prev.commandName) {
                    return -1;
                }
                if (curr.commandName < prev.commandName) {
                    return 1;
                }
                return 0;
            }),
        };
    });
}
exports.sortAndGroupCommands = sortAndGroupCommands;
